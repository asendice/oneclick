{"ast":null,"code":"import React from\"react\";import XLSX from\"xlsx\";import{BiError,BiCheck}from\"react-icons/bi\";import{VscTable}from\"react-icons/vsc\";import{CSVLink}from\"react-csv\";import{roundPercent}from\"../utils/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MatchDisplay=function MatchDisplay(_ref){var headers=_ref.headers,errorRows=_ref.errorRows,dataLength=_ref.dataLength,file=_ref.file;var unMatched=headers.filter(function(header){return header.matchedWith.length===0;});var exportXlsx=function exportXlsx(){var ws=XLSX.utils.json_to_sheet(errorRows);var wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,\"Sheet1\");XLSX.writeFile(wb,\"\".concat(file.name.slice(0,file.name.length-5),\"_missing_values.xlsx\"));};return/*#__PURE__*/_jsx(\"div\",{className:\"match-display\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"display-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"display-item\",children:[/*#__PURE__*/_jsx(VscTable,{className:\"display-item-icon\"}),headers.length>0?/*#__PURE__*/_jsxs(\"h4\",{children:[dataLength-errorRows.length,\" / \",dataLength,\" rows are being accepted\"]}):/*#__PURE__*/_jsx(\"h4\",{children:\"xxxx rows are being accepted\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"display-item\",children:[/*#__PURE__*/_jsx(BiError,{className:\"display-item-icon\"}),headers.length>0?/*#__PURE__*/_jsxs(\"h4\",{children:[errorRows.length,\" rows are missing value(s)\"]}):/*#__PURE__*/_jsx(\"h4\",{children:\"xxx rows are missing value(s)\"}),file.type===\"text/csv\"?/*#__PURE__*/_jsx(CSVLink,{style:{textDecoration:\"none\"},data:errorRows,className:\"trove-button\",filename:\"\".concat(file.name.slice(0,file.name.length-4),\"_missing_values\"),children:\"Export Rows .CSV\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"trove-button\",style:{marginTop:\"20px\"},onClick:function onClick(){return exportXlsx();},children:[\"Export Rows .XLSX\",\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"display-item\",children:[/*#__PURE__*/_jsx(BiCheck,{className:\"display-item-icon\"}),headers.length>0?/*#__PURE__*/_jsxs(\"h4\",{children:[roundPercent(unMatched.length,headers.length),\" % of your headers matched\"]}):/*#__PURE__*/_jsx(\"h4\",{children:\"xxx% of your headers matched\"})]})]})});};export default MatchDisplay;","map":{"version":3,"sources":["/Users/dylantravis/Desktop/finalPush/oneclick/client/src/components/MatchDisplay.js"],"names":["React","XLSX","BiError","BiCheck","VscTable","CSVLink","roundPercent","MatchDisplay","headers","errorRows","dataLength","file","unMatched","filter","header","matchedWith","length","exportXlsx","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","name","slice","type","textDecoration","marginTop"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,OAASC,OAAT,CAAkBC,OAAlB,KAAiC,gBAAjC,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,OAASC,YAAT,KAA6B,eAA7B,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAA8C,IAA3CC,CAAAA,OAA2C,MAA3CA,OAA2C,CAAlCC,SAAkC,MAAlCA,SAAkC,CAAvBC,UAAuB,MAAvBA,UAAuB,CAAXC,IAAW,MAAXA,IAAW,CACjE,GAAMC,CAAAA,SAAS,CAAGJ,OAAO,CAACK,MAAR,CAAe,SAACC,MAAD,QAAYA,CAAAA,MAAM,CAACC,WAAP,CAAmBC,MAAnB,GAA8B,CAA1C,EAAf,CAAlB,CACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAMC,CAAAA,EAAE,CAAGjB,IAAI,CAACkB,KAAL,CAAWC,aAAX,CAAyBX,SAAzB,CAAX,CACA,GAAMY,CAAAA,EAAE,CAAGpB,IAAI,CAACkB,KAAL,CAAWG,QAAX,EAAX,CACArB,IAAI,CAACkB,KAAL,CAAWI,iBAAX,CAA6BF,EAA7B,CAAiCH,EAAjC,WACAjB,IAAI,CAACuB,SAAL,CACEH,EADF,WAEKV,IAAI,CAACc,IAAL,CAAUC,KAAV,CAAgB,CAAhB,CAAmBf,IAAI,CAACc,IAAL,CAAUT,MAAV,CAAmB,CAAtC,CAFL,0BAID,CARD,CAUA,mBACE,YAAK,SAAS,CAAC,eAAf,uBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,KAAC,QAAD,EAAU,SAAS,CAAC,mBAApB,EADF,CAEGR,OAAO,CAACQ,MAAR,CAAiB,CAAjB,cACC,sBACGN,UAAU,CAAGD,SAAS,CAACO,MAD1B,OACqCN,UADrC,8BADD,cAMC,oDARJ,GADF,cAYE,aAAK,SAAS,CAAC,cAAf,wBACE,KAAC,OAAD,EAAS,SAAS,CAAC,mBAAnB,EADF,CAEGF,OAAO,CAACQ,MAAR,CAAiB,CAAjB,cACC,sBAAKP,SAAS,CAACO,MAAf,gCADD,cAGC,qDALJ,CAOGL,IAAI,CAACgB,IAAL,GAAc,UAAd,cACC,KAAC,OAAD,EACE,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAlB,CADT,CAEE,IAAI,CAAEnB,SAFR,CAGE,SAAS,CAAC,cAHZ,CAIE,QAAQ,WAAKE,IAAI,CAACc,IAAL,CAAUC,KAAV,CACX,CADW,CAEXf,IAAI,CAACc,IAAL,CAAUT,MAAV,CAAmB,CAFR,CAAL,mBAJV,8BADD,cAaC,aAAK,SAAS,CAAC,cAAf,CAA8B,KAAK,CAAE,CAACa,SAAS,CAAE,MAAZ,CAArC,CAA0D,OAAO,CAAE,yBAAMZ,CAAAA,UAAU,EAAhB,EAAnE,+BACoB,GADpB,GApBJ,GAZF,cAqCE,aAAK,SAAS,CAAC,cAAf,wBACE,KAAC,OAAD,EAAS,SAAS,CAAC,mBAAnB,EADF,CAEGT,OAAO,CAACQ,MAAR,CAAiB,CAAjB,cACC,sBACGV,YAAY,CAACM,SAAS,CAACI,MAAX,CAAmBR,OAAO,CAACQ,MAA3B,CADf,gCADD,cAMC,oDARJ,GArCF,GADF,EADF,CAqDD,CAjED,CAmEA,cAAeT,CAAAA,YAAf","sourcesContent":["import React from \"react\";\nimport XLSX from \"xlsx\";\nimport { BiError, BiCheck } from \"react-icons/bi\";\nimport { VscTable } from \"react-icons/vsc\";\nimport { CSVLink } from \"react-csv\";\nimport { roundPercent } from \"../utils/auth\";\n\nconst MatchDisplay = ({ headers, errorRows, dataLength, file }) => {\n  const unMatched = headers.filter((header) => header.matchedWith.length === 0);\n  const exportXlsx = () => {\n    const ws = XLSX.utils.json_to_sheet(errorRows);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, `Sheet1`);\n    XLSX.writeFile(\n      wb,\n      `${file.name.slice(0, file.name.length - 5)}_missing_values.xlsx`\n    );\n  };\n\n  return (\n    <div className=\"match-display\">\n      <div className=\"display-container\">\n        <div className=\"display-item\">\n          <VscTable className=\"display-item-icon\" />\n          {headers.length > 0 ? (\n            <h4>\n              {dataLength - errorRows.length} / {dataLength} rows are being\n              accepted\n            </h4>\n          ) : (\n            <h4>xxxx rows are being accepted</h4>\n          )}\n        </div>\n        <div className=\"display-item\">\n          <BiError className=\"display-item-icon\" />\n          {headers.length > 0 ? (\n            <h4>{errorRows.length} rows are missing value(s)</h4>\n          ) : (\n            <h4>xxx rows are missing value(s)</h4>\n          )}\n          {file.type === \"text/csv\" ? (\n            <CSVLink\n              style={{ textDecoration: \"none\" }}\n              data={errorRows}\n              className=\"trove-button\"\n              filename={`${file.name.slice(\n                0,\n                file.name.length - 4\n              )}_missing_values`}\n            >\n              Export Rows .CSV\n            </CSVLink>\n          ) : (\n            <div className=\"trove-button\" style={{marginTop: \"20px\"}} onClick={() => exportXlsx()}>\n              Export Rows .XLSX{\" \"}\n            </div>\n          )}\n        </div>\n        <div className=\"display-item\">\n          <BiCheck className=\"display-item-icon\" />\n          {headers.length > 0 ? (\n            <h4>\n              {roundPercent(unMatched.length, headers.length)} % of your headers\n              matched\n            </h4>\n          ) : (\n            <h4>xxx% of your headers matched</h4>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MatchDisplay;\n"]},"metadata":{},"sourceType":"module"}