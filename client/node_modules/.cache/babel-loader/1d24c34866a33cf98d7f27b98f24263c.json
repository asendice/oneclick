{"ast":null,"code":"import _toConsumableArray from\"/Users/dylantravis/Desktop/finalPush/oneclick/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/dylantravis/Desktop/finalPush/oneclick/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import{FaCheck}from\"react-icons/fa\";import{BiError,BiChevronDown,BiX}from\"react-icons/bi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CsvHeader=function CsvHeader(_ref){var header=_ref.header,headers=_ref.headers,setHeaders=_ref.setHeaders,confirmHeader=_ref.confirmHeader,dropDownData=_ref.dropDownData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var dropDownRef=useRef();// console.log(header, \"header\")\nvar onCancelClick=function onCancelClick(){var newArr=_toConsumableArray(headers);header.matchedWith=\"\";newArr.splice(headers.indexOf(header),1,header);setHeaders(newArr);};var onSelectClick=function onSelectClick(name){var newArr=_toConsumableArray(headers);header.matchedWith=name;newArr.splice(headers.indexOf(header),1,header);setHeaders(newArr);};useEffect(function(){var outsideClick=function outsideClick(e){if(active&&dropDownRef.current&&!dropDownRef.current.contains(e.target)){setActive(false);}};document.addEventListener(\"mousedown\",outsideClick);return function(){// cleans up the eventlistener\ndocument.removeEventListener(\"mousedown\",outsideClick);};},[active]);return/*#__PURE__*/_jsxs(\"div\",{id:\"csv-header\",className:\"csv-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-side\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"csv-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-header-left\",children:/*#__PURE__*/_jsx(\"h4\",{children:header.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"arrow-right\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-header-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header-right-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:header.matchedWith?header.matchedWith:\"Search For Match\"}),!header.confirmed&&/*#__PURE__*/_jsxs(\"div\",{className:\"table-icons-container\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return onCancelClick();},className:\"table-icons\",children:/*#__PURE__*/_jsx(BiX,{})}),\"|\",/*#__PURE__*/_jsx(\"div\",{className:\"table-icons\",onClick:function onClick(){setActive(!active);},children:/*#__PURE__*/_jsx(BiChevronDown,{})})]})]}),!header.confirmed&&/*#__PURE__*/_jsx(\"div\",{id:\"drop-down\",ref:dropDownRef,className:\"drop-down\",style:{display:\"\".concat(active?\"block\":\"none\")},children:dropDownData.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){onSelectClick(item.name);setActive(!active);},className:\"drop-down-item\",children:item.name},index);})})]})]}),header.values.slice(1,4).map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cell-index\",children:index+1}),/*#__PURE__*/_jsx(\"p\",{children:item})]},index);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"right-side\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"csv-results\",children:[header.matchedWith.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[/*#__PURE__*/_jsx(FaCheck,{className:\"small-check-icon\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Matched to the \",/*#__PURE__*/_jsxs(\"p\",{children:[\" \",header.matchedWith,\" \"]}),\" field\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"results error-text\",children:[/*#__PURE__*/_jsx(BiError,{style:{fontSize:\"1.4rem\"}}),/*#__PURE__*/_jsx(\"h1\",{children:\"Unable to automatically match\"})]}),header.confirmed?/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[/*#__PURE__*/_jsx(FaCheck,{className:\"small-check-icon\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Header Confirmed\"})]}):!header.confirmed&&header.matchedWith.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"results-button-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"confirm button\",onClick:function onClick(){confirmHeader(header,headers.indexOf(header));},children:\"Confirm Matching\"})}):/*#__PURE__*/_jsx(\"div\",{children:\" \"})]})})]});};export default CsvHeader;","map":{"version":3,"sources":["/Users/dylantravis/Desktop/finalPush/oneclick/client/src/components/CsvHeader.js"],"names":["React","useState","useEffect","useRef","FaCheck","BiError","BiChevronDown","BiX","CsvHeader","header","headers","setHeaders","confirmHeader","dropDownData","active","setActive","dropDownRef","onCancelClick","newArr","matchedWith","splice","indexOf","onSelectClick","name","outsideClick","e","current","contains","target","document","addEventListener","removeEventListener","confirmed","display","map","item","index","values","slice","length","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { FaCheck } from \"react-icons/fa\";\nimport { BiError, BiChevronDown, BiX } from \"react-icons/bi\";\n\nconst CsvHeader = ({\n  header,\n  headers,\n  setHeaders,\n  confirmHeader,\n  dropDownData,\n}) => {\n  const [active, setActive] = useState(false);\n  const dropDownRef = useRef();\n\n  // console.log(header, \"header\")\n\n  const onCancelClick = () => {\n    let newArr = [...headers];\n    header.matchedWith = \"\";\n    newArr.splice(headers.indexOf(header), 1, header);\n    setHeaders(newArr);\n  };\n  const onSelectClick = (name) => {\n    let newArr = [...headers];\n    header.matchedWith = name;\n    newArr.splice(headers.indexOf(header), 1, header);\n    setHeaders(newArr);\n  };\n\n  useEffect(() => {\n    const outsideClick = (e) => {\n      if (\n        active &&\n        dropDownRef.current &&\n        !dropDownRef.current.contains(e.target)\n      ) {\n        setActive(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", outsideClick);\n    return () => {\n      // cleans up the eventlistener\n      document.removeEventListener(\"mousedown\", outsideClick);\n    };\n  }, [active]);\n\n  return (\n    <div id=\"csv-header\" className=\"csv-header\">\n      <div className=\"left-side\">\n        <div className=\"csv-table\">\n          <div className=\"table-header\">\n            <div className=\"table-header-left\">\n              <h4>{header.name}</h4>\n            </div>\n            <div className=\"arrow-right\"></div>\n            <div className=\"table-header-right\">\n              <div className=\"table-header-right-content\">\n                <p>\n                  {header.matchedWith ? header.matchedWith : \"Search For Match\"}\n                </p>\n                {!header.confirmed && (\n                  <div className=\"table-icons-container\">\n                    <div\n                      onClick={() => onCancelClick()}\n                      className=\"table-icons\"\n                    >\n                      <BiX />\n                    </div>\n                    |\n                    <div\n                      className=\"table-icons\"\n                      onClick={() => {\n                        setActive(!active);\n                      }}\n                    >\n                      <BiChevronDown />\n                    </div>\n                  </div>\n                )}\n              </div>\n              {!header.confirmed && (\n                <div\n                  id=\"drop-down\"\n                  ref={dropDownRef}\n                  className=\"drop-down\"\n                  style={{ display: `${active ? \"block\" : \"none\"}` }}\n                >\n                  {dropDownData.map((item, index) => {\n                    return (\n                      <div\n                        onClick={() => {\n                          onSelectClick(item.name);\n                          setActive(!active);\n                        }}\n                        key={index}\n                        className=\"drop-down-item\"\n                      >\n                        {item.name}\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          </div>\n          {header.values.slice(1, 4).map((item, index) => {\n            return (\n              <div key={index} className=\"cell\">\n                <div className=\"cell-index\">{index + 1}</div>\n                <p>{item}</p>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <div className=\"right-side\">\n        <div className=\"csv-results\">\n          {header.matchedWith.length > 0 ? (\n            <div className=\"results\">\n              <FaCheck className=\"small-check-icon\" />\n              <h1>\n                Matched to the <p> {header.matchedWith} </p> field\n              </h1>\n            </div>\n          ) : (\n            <div className=\"results error-text\">\n              <BiError style={{ fontSize: \"1.4rem\" }} />\n              <h1>Unable to automatically match</h1>\n            </div>\n          )}\n          {header.confirmed ? (\n            <div className=\"results\">\n              <FaCheck className=\"small-check-icon\" />\n              <h1>Header Confirmed</h1>\n            </div>\n          ) : !header.confirmed && header.matchedWith.length > 0 ? (\n            <div className=\"results-button-container\">\n              <div\n                className=\"confirm button\"\n                onClick={() => {\n                  confirmHeader(header, headers.indexOf(header));\n                }}\n              >\n                Confirm Matching\n              </div>\n            </div>\n          ) : (\n            <div> </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CsvHeader;\n"]},"metadata":{},"sourceType":"module"}