{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dylantravis/Desktop/finalPush/oneclick/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dylantravis/Desktop/finalPush/oneclick/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dylantravis/Desktop/finalPush/oneclick/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import backendApi from\"../apis/backendApi\";import Match from\"./Match\";import Upload from\"./Upload\";import Progress from\"./Progress\";import Review from\"./Review\";import Complete from\"./Complete\";import Footer from\"./Footer\";import{MdArrowBack}from\"react-icons/md\";import{BrowserRouter,Route,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(\"Upload\"),_useState6=_slicedToArray(_useState5,2),frame=_useState6[0],setFrame=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),backEndHeaders=_useState8[0],setBackEndHeaders=_useState8[1];var handleCSV=function handleCSV(str){var headers=str.slice(0,str.indexOf(\"\\n\")).split(\",\").map(function(header){return header.replace(\"\\r\",\"\").replace(/\"/g,\"\");});var rows=str.slice(str.indexOf(\"\\n\")+1).split(\"\\n\").filter(function(row){return row.length>0;});var arr=rows.map(function(row){var values=row.split(\",\");if(values.length>0){var eachObject=headers.reduce(function(obj,header,i){obj[header]=values[i]&&values[i].replace(\"\\r\",\"\").replace(/\"/g,\"\");return obj;},{});return eachObject;}});setData(arr);};var getBackEndHeaders=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return backendApi.get(\"/headers\").then(function(response){if(response){console.log(response);return response;}else{var error=new Error(\"Error \".concat(error.status,\": \").concat(error.statusText));error.response=response;throw error;}}).then(function(response){return setBackEndHeaders(response.data.message);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getBackEndHeaders(){return _ref.apply(this,arguments);};}();useEffect(function(){getBackEndHeaders();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[frame===\"Match\"?/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back-arrow\",onClick:function onClick(){return setFrame(\"Upload\");},children:/*#__PURE__*/_jsx(MdArrowBack,{})}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(Progress,{frame:frame})]}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/_jsx(Upload,{setFile:setFile,handleCSV:handleCSV,setFrame:setFrame,setData:setData});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/match\",render:function render(){return/*#__PURE__*/_jsx(Match,{file:file,data:data,setData:setData,backEndHeaders:backEndHeaders,setFrame:setFrame});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/review\",render:function render(){return/*#__PURE__*/_jsx(Review,{file:file,data:data,setFrame:setFrame});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/complete\",render:function render(){return/*#__PURE__*/_jsx(Complete,{file:file,data:data});}})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"sources":["/Users/dylantravis/Desktop/finalPush/oneclick/client/src/components/App.js"],"names":["React","useState","useEffect","backendApi","Match","Upload","Progress","Review","Complete","Footer","MdArrowBack","BrowserRouter","Route","Link","App","file","setFile","data","setData","frame","setFrame","backEndHeaders","setBackEndHeaders","handleCSV","str","headers","slice","indexOf","split","map","header","replace","rows","filter","row","length","arr","values","eachObject","reduce","obj","i","getBackEndHeaders","get","then","response","console","log","error","Error","status","statusText","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport backendApi from \"../apis/backendApi\";\nimport Match from \"./Match\";\nimport Upload from \"./Upload\";\nimport Progress from \"./Progress\";\nimport Review from \"./Review\";\nimport Complete from \"./Complete\";\nimport Footer from \"./Footer\";\nimport { MdArrowBack } from \"react-icons/md\";\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\nconst App = () => {\n  const [file, setFile] = useState();\n  const [data, setData] = useState([]);\n  const [frame, setFrame] = useState(\"Upload\");\n  const [backEndHeaders, setBackEndHeaders] = useState([]);\n\n  const handleCSV = (str) => {\n    const headers = str\n      .slice(0, str.indexOf(\"\\n\"))\n      .split(\",\")\n      .map((header) => header.replace(\"\\r\", \"\").replace(/\"/g, \"\"));\n    const rows = str\n      .slice(str.indexOf(\"\\n\") + 1)\n      .split(\"\\n\")\n      .filter((row) => row.length > 0);\n    const arr = rows.map((row) => {\n      const values = row.split(\",\");\n      if (values.length > 0) {\n        const eachObject = headers.reduce((obj, header, i) => {\n          obj[header] = values[i] && values[i].replace(\"\\r\", \"\").replace(/\"/g, \"\");\n          return obj;\n        }, {});\n        return eachObject;\n      }\n    });\n    setData(arr);\n  };\n\n  const getBackEndHeaders = async () => {\n    await backendApi\n      .get(\"/headers\")\n      .then((response) => {\n        if (response) {\n          console.log(response)\n          return response;\n        } else {\n          const error = new Error(`Error ${error.status}: ${error.statusText}`);\n          error.response = response;\n          throw error;\n        }\n      })\n      .then((response) => setBackEndHeaders(response.data.message));\n  };\n\n  useEffect(() => {\n    getBackEndHeaders();\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <BrowserRouter>\n        <div className=\"header\">\n          {frame === \"Match\" ? (\n            <Link\n              to=\"/\"\n              className=\"back-arrow\"\n              onClick={() => setFrame(\"Upload\")}\n            >\n              <MdArrowBack />\n            </Link>\n          ) : (\n            <div></div>\n          )}\n          <Progress frame={frame} />\n        </div>\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <Upload\n              setFile={setFile}\n              handleCSV={handleCSV}\n              setFrame={setFrame}\n              setData={setData}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/match\"\n          render={() => (\n            <Match\n              file={file}\n              data={data}\n              setData={setData}\n              backEndHeaders={backEndHeaders}\n              setFrame={setFrame}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/review\"\n          render={() => <Review file={file} data={data} setFrame={setFrame} />}\n        />\n        <Route\n          exact\n          path=\"/complete\"\n          render={() => <Complete file={file} data={data} />}\n        />\n      </BrowserRouter>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}